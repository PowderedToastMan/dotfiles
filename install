#!/usr/bin/env bash

if [ ! -d "$HOME/.ssh" ]; then
   mkdir $HOME/.ssh
   chmod 700 $HOME/.ssh
fi

[ ! -e "$HOME/.ssh/authorized_keys" ] && ln -s $HOME/.dotfiles/ssh/authorized_keys $HOME/.ssh/authorized_keys
[ ! -e "$HOME/.tmux.conf" ] && ln -s $HOME/.dotfiles/tmux.conf $HOME/.tmux.conf
[ ! -e "$HOME/.zshrc" ] && ln -s $HOME/.dotfiles/zshrc $HOME/.zshrc
[ ! -e "$HOME/.vimrc" ] && ln -s $HOME/.dotfiles/vimrc $HOME/.vimrc
[ ! -e "$HOME/.vim" ] && ln -s $HOME/.dotfiles/vim $HOME/.vim
[ ! -e "$HOME/.fonts" ] && ln -s $HOME/.dotfiles/fonts $HOME/.fonts

cd $HOME/.dotfiles
git submodule init
git submodule update
git submodule foreach git pull origin master

fc-cache -vf ~/.fonts
